# LLM Agent Guide

---

These instructions are for LLM agents on this Full-Stack AI blog project. Act as a senior full stack developer and write code that strictly adheres to the following guide.

## Project Overview

---

This project aims to build a personal and local blog service where user can fetch their github commit/pr history using their github PAT, auto generate summaries in markdown format for a chosen history using google AI studio API via genai library, modify the generated summary if the user wants, and then upload/save the summary as a blog post.

### Tech Stack

---

#### Front

- Language: Typescript
- Framework: React v19
- Build Tool: Vite v7
- Navigation: React Router v7
- State Management: Zustand
- CSS: Tailwind css v4, DaisyUI
- Markdown Rendering: react-markdown
- Markdown Editing: @uiw/react-md-editor
- Skeleton Loading: react-loading-skeleton

#### Back

- Language: Typescript
- Framework: express
- LLM API Integration: @google/genai
- Github API Integration: octokit
- Database: File System
- Unique ID Generation: uuid

### Project Structure

---

#### Front

```text
front/
├── src/
│   ├── assets/ ## Directory for assets.
│   ├── components/ ## Directory for tsx components.
│   ├── pages/
│   │   ├── EditPage.tsx ## Page where user can create posts for commits.
│   │   ├── PostPage.tsx ## Page where user can post.
│   │   └── MainPage.tsx ## Page where user can see post list.
│   ├── stores/ ## Directory for zustand stores.
│   ├── types/ ## Directory for ts files exporting shared interfaces/types etc.
│   ├── utils/ ## Directory for ts files exporting utility functions.
│   ├── constants/
│   │   └── index.ts ## Export constant values.
│   ├── App.css ## Imports tailwindcss and daisyui.
│   ├── App.tsx ## React entry point, defines routes using react router.
│   └── main.tsx
├── index.html
├── eslint.config.js
├── tsconfig.app.json
├── tsconfig.json
├── tsconfig.node.json
├── vite.config.ts
├── references/
│   ├── htmls/
│   │   ├── EditPage.html ## Mock HTML + css for EditPage.html.
│   │   ├── PostPage.html ## Mock HTML + css for PostPage.html.
│   │   └── MainPage.html ## Mock HTML + css for MainPage.html.
│   └── screenshots/
└── package.json
```

#### Back

```text
back/
├── src/
│   ├── controllers/
│   │   ├── postsController.ts ## Post(s) CRUD
│   │   ├── githubController.ts ## List repos and Get/List commits.
│   │   └── aiController.ts ## Get auto generated blog post based on commit.
│   ├── services/
│   │   ├── PostService.ts
│   │   ├── GithubService.ts ## Provide github functionalities using octokit.
│   │   └── AiService.ts ## Provide ai functionalities using @google/genai.
│   ├── routes/
│   │   ├── posts.ts
│   │   ├── github.ts
│   │   ├── ai.ts
│   │   └── index.ts ## Imports each routes and exports synthesized router.
│   ├── utils/
│   │   └── markdown.ts ## Utilities for md such as setting metadata.
│   ├── types/
│   │   └── index.ts ## Export shared types.
│   ├── constants/
│   │   └── index.ts ## Export constant values.
│   ├── index.ts ## Runs the app.
│   └── app.ts ## Imports router and exports synthesized express app.
├── posts/ ## Directory for saved posts(markdown files).
├── .env ## Contains GITHUB_PAT for octokit and GEMINI_API_KEY for @google/genai.
└── package.json
```

### Special Notes on Markdown Files

---

This project does not use DB and uses markdown files stored under back/posts/ as data source instead. Each markdown files must be named precisely and contain certain metadata so that they can be sorted and filtered efficiently.

#### Naming

Each .md file must have uuid v7 as their filename. The uuid should be generated by the server when it gets POST request for a new post.

```text
${UUIDV7()}.md
```

#### Metadata

Each .md file must have the following fields.

```markdown
---
title: Title of the post
date: Date and time in UTC (eg.2025-11-06T06:11:49Z)
repo: URL of the repo this post is about
commit: Hash value of the commit this post is about
tags: Array of relevant tags.
---
```

### Coding Conventions

---

- Naming
  - Types/Interfaces/Classes: PascalCase
  - Variables/Functions: camelCase
  - Constants: UPPER_SNAKE_CASE
- Prefer arrow functions to regular functions.
- Prefer interfaces to types when defining the shape of objects.

### Frontend Considerations

---

- When building frontend components and pages, you must look at the relevant mock html file located under front/references/htmls/ directory for layout, structure, and styling.
- Every components that are rely on data from backend server must have a loading skeleton, which should be made using react-loading-skeleton.

### Backend API

---

The back server must expose the following API that corresponds to the following OpenAPI yaml spec.

```yaml
openapi: 3.0.0
info:
  title: Blog API
  version: 1.0.0
  description: API for managing blog posts, generating AI-powered summaries, and fetching GitHub repository data
servers:
  - url: http://0.0.0.0:11111/api
    description: Development server
tags:
  - name: Posts
    description: Operations for managing markdown blog posts
  - name: AI
    description: Operations for AI-powered content generation
  - name: GitHub
    description: Operations for fetching GitHub repository and commit data
paths:
  /posts:
    get:
      tags:
        - Posts
      summary: List all posts
      description: Lists all markdown files from the server
      operationId: listPosts
      responses:
        "200":
          description: Successfully retrieved posts
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Unique identifier for the post
                    title:
                      type: string
                      description: Title of the post
                    tags:
                      type: array
                      items:
                        type: string
                      description: Tags associated with the post
                    date:
                      type: string
                      format: date-time
                      description: Creation date of the post
                  required:
                    - id
                    - title
                    - tags
                    - date
    post:
      tags:
        - Posts
      summary: Create a new post
      description: Creates a new markdown file
      operationId: createPost
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: Title of the post
                repo:
                  type: string
                  description: URL Repo releated to the post
                commit:
                  type: string
                  description: Hash value of the commit releated to the post
                content:
                  type: string
                  description: Markdown content of the post
                tags:
                  type: array
                  items:
                    type: string
                  description: Tags for the post
              required:
                - title
                - repo
                - commit
                - content
                - tags
      responses:
        "201":
          description: Post created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: Unique identifier for the created post
                  title:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
                  date:
                    type: string
                    format: date-time
  /posts/{id}:
    get:
      tags:
        - Posts
      summary: Get a post by ID
      description: Gets a markdown file by its ID
      operationId: getPostById
      parameters:
        - name: id
          in: path
          required: true
          description: The post ID
          schema:
            type: string
      responses:
        "200":
          description: Post retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  content:
                    type: string
                    description: Markdown content
                  tags:
                    type: array
                    items:
                      type: string
                  date:
                    type: string
                    format: date-time
        "404":
          description: Post not found
    put:
      tags:
        - Posts
      summary: Update a post
      description: Updates a markdown file by its ID
      operationId: updatePost
      parameters:
        - name: id
          in: path
          required: true
          description: The post ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: Post updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
                  date:
                    type: string
                    format: date-time
        "404":
          description: Post not found
    delete:
      tags:
        - Posts
      summary: Delete a post
      description: Deletes a markdown file by its ID
      operationId: deletePost
      parameters:
        - name: id
          in: path
          required: true
          description: The post ID
          schema:
            type: string
      responses:
        "204":
          description: Post deleted successfully
        "404":
          description: Post not found
  /ai/generate:
    post:
      tags:
        - AI
      summary: Generate blog post content
      description: Requests LLM service for a streamed response to auto-generate blog post content from commit details
      operationId: generatePost
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                commitMessage:
                  type: string
                  description: The commit message
                commitDate:
                  type: string
                  format: date-time
                  description: Date of the commit
                files:
                  type: array
                  items:
                    type: object
                    properties:
                      filename:
                        type: string
                        description: File path
                      status:
                        type: string
                        enum:
                          - added
                          - modified
                          - deleted
                          - renamed
                        description: File status
                      additions:
                        type: integer
                        description: Lines added
                      deletions:
                        type: integer
                        description: Lines deleted
                      changes:
                        type: integer
                        description: Total changes
                      patch:
                        type: string
                        description: Unified diff patch
                    required:
                      - filename
                      - status
                      - additions
                      - deletions
                      - changes
                      - patch
                  description: Array of files changed in the commit
              required:
                - commitMessage
                - commitDate
                - files
      responses:
        "200":
          description: Streamed response from LLM service
          content:
            text/event-stream:
              schema:
                type: string
                description: Streamed content chunks from the LLM
  /github/repos:
    get:
      tags:
        - GitHub
      summary: List repositories
      description: Lists the repositories by their full name (repo org + repo name)
      operationId: listRepos
      responses:
        "200":
          description: Successfully retrieved repositories
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
                  description: Full repository name (org/repo)
  /github/repos/{repoOrg}/{repoName}/commits:
    get:
      tags:
        - GitHub
      summary: List commits for repository
      description: Lists the commits associated with the repository
      operationId: listCommits
      parameters:
        - name: repoOrg
          in: path
          required: true
          description: Repository organization/owner
          schema:
            type: string
        - name: repoName
          in: path
          required: true
          description: Repository name
          schema:
            type: string
      responses:
        "200":
          description: Successfully retrieved commits
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    hash:
                      type: string
                      description: Commit hash
                    date:
                      type: string
                      format: date-time
                      description: Commit date
                    message:
                      type: string
                      description: Commit message
                  required:
                    - hash
                    - date
                    - message
  /github/repos/{repoOrg}/{repoName}/commits/{commitHash}:
    get:
      tags:
        - GitHub
      summary: Get commit details
      description: Gets the details of a specified commit
      operationId: getCommitDetails
      parameters:
        - name: repoOrg
          in: path
          required: true
          description: Repository organization/owner
          schema:
            type: string
        - name: repoName
          in: path
          required: true
          description: Repository name
          schema:
            type: string
        - name: commitHash
          in: path
          required: true
          description: Commit hash
          schema:
            type: string
      responses:
        "200":
          description: Successfully retrieved commit details
          content:
            application/json:
              schema:
                type: object
                properties:
                  hash:
                    type: string
                    description: Commit hash
                  message:
                    type: string
                    description: Commit message
                  date:
                    type: string
                    format: date-time
                    description: Commit date
                  stats:
                    type: object
                    properties:
                      total:
                        type: integer
                        description: Total changes
                      additions:
                        type: integer
                        description: Total additions
                      deletions:
                        type: integer
                        description: Total deletions
                    required:
                      - total
                      - additions
                      - deletions
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        filename:
                          type: string
                          description: File path
                        status:
                          type: string
                          enum:
                            - added
                            - modified
                            - deleted
                            - renamed
                          description: File status
                        additions:
                          type: integer
                          description: Lines added
                        deletions:
                          type: integer
                          description: Lines deleted
                        changes:
                          type: integer
                          description: Total changes
                        patch:
                          type: string
                          description: Unified diff patch
                      required:
                        - filename
                        - status
                        - additions
                        - deletions
                        - changes
                        - patch
                required:
                  - hash
                  - message
                  - date
                  - stats
                  - files
        "404":
          description: Commit not found
```
