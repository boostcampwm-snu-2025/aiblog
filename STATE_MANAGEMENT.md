# μƒνƒ κ΄€λ¦¬ μ„¤κ³„ λ¬Έμ„

## π― μƒνƒ κ΄€λ¦¬ μ „λµ κ°μ”

μ΄ ν”„λ΅μ νΈλ” **TanStack Query**, **Zustand**, **Context API** 3κ°€μ§€ λ„κµ¬λ¥Ό κ°κ°μ νΉμ„±μ— λ§κ² ν™μ©ν•©λ‹λ‹¤.

## 1. TanStack Query (React Query) - μ„λ²„ μƒνƒ

### μ—­ν• 
GitHub APIλ΅λ¶€ν„° λ°›μ•„μ¤λ” **μ„λ²„ λ°μ΄ν„°**μ μƒνƒλ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.

### μ‚¬μ© μ΄μ 
- β… μλ™ μΊμ‹±μΌλ΅ λ¶ν•„μ”ν• API νΈμ¶ λ°©μ§€
- β… λ΅λ”©, μ„±κ³µ, μ—λ¬ μƒνƒ μλ™ κ΄€λ¦¬
- β… λ°±κ·ΈλΌμ΄λ“ μλ™ μ¬κ²€μ¦
- β… μ¤‘λ³µ μ”μ²­ μλ™ μ κ±°
- β… νμ΄μ§€λ„¤μ΄μ… λ° λ¬΄ν• μ¤ν¬λ΅¤ μ§€μ›

### μ μ© λ¶€λ¶„
- **μ»¤λ°‹ λ°μ΄ν„°**: `useCommits` hook
- **PR λ°μ΄ν„°**: `usePullRequests` hook
- **λ ν¬μ§€ν† λ¦¬ μ •λ³΄**: `useRepository` hook

### μ½”λ“ μ„μΉ
- `client/src/hooks/useGitHub.js` - Custom hooks
- `client/src/api/github.js` - API ν΄λΌμ΄μ–ΈνΈ
- `client/src/main.jsx` - QueryClientProvider μ„¤μ •

### μ£Όμ” μ„¤μ •
```javascript
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retry: 1,                      // μ‹¤ν¨ μ‹ 1λ² μ¬μ‹λ„
      refetchOnWindowFocus: false,   // μ°½ ν¬μ»¤μ¤ μ‹ μ¬μ”μ²­ μ•ν•¨
      staleTime: 5 * 60 * 1000,     // 5λ¶„κ°„ μΊμ‹ μ μ§€
    },
  },
});
```

## 2. Zustand - ν΄λΌμ΄μ–ΈνΈ μ „μ—­ μƒνƒ

### μ—­ν• 
μ—¬λ¬ μ»΄ν¬λ„νΈμ—μ„ κ³µμ λλ” **UI μƒνƒ**λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.

### μ‚¬μ© μ΄μ 
- β… κ°„λ‹¨ν•κ³  μ§κ΄€μ μΈ API
- β… Provider λ¶ν•„μ” (λ³΄μΌλ¬ν”λ μ΄νΈ μµμ†ν™”)
- β… λ§¤μ° κ°€λ²Όμ›€ (~1KB)
- β… Redux DevTools μ§€μ›

### μ μ© λ¶€λ¶„
- **activeTab**: ν„μ¬ μ„ νƒλ νƒ­ (commits/pulls)
- **itemsPerPage**: νμ΄μ§€λ‹Ή μ•„μ΄ν… κ°μ
- **sortBy**: μ •λ ¬ κΈ°μ¤€
- **sortOrder**: μ •λ ¬ μμ„ (asc/desc)
- **searchQuery**: κ²€μƒ‰μ–΄
- **prState**: PR μƒνƒ ν•„ν„° (all/open/closed)

### μ½”λ“ μ„μΉ
- `client/src/store/uiStore.js`

### μ‚¬μ© μμ‹
```javascript
// μ–΄λ μ»΄ν¬λ„νΈμ—μ„λ“  κ°„λ‹¨ν•κ² μ‚¬μ©
const { activeTab, setActiveTab } = useUIStore();
```

## 3. Context API - μ•± λ λ²¨ μ„¤μ • (ν–¥ν›„ ν™•μ¥)

### μ—­ν• 
μ•± μ „μ²΄μ— μν–¥μ„ λ―ΈμΉλ” **μ „μ—­ μ„¤μ •**μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.

### μ‚¬μ© κ³„ν
- π” λ‹¤ν¬λ¨λ“/λΌμ΄νΈλ¨λ“ ν…λ§
- π” μ‚¬μ©μ μ–Έμ–΄ μ„¤μ •
- π” μ‚¬μ©μ μΈμ¦ μ •λ³΄ (ν–¥ν›„)

### μ‚¬μ© μ΄μ 
- β… React λ‚΄μ¥ κΈ°λ¥
- β… μ•± λ λ²¨ μ„¤μ •μ— μ ν•©
- β… λ³€κ²½ λΉλ„κ°€ λ‚®μ€ λ°μ΄ν„°μ— μµμ 

## π“ μƒνƒ νλ¦„λ„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                   React Application                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                       β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚ TanStack     β”‚  β”‚   Zustand    β”‚  β”‚  Context  β”‚ β”‚
β”‚  β”‚   Query      β”‚  β”‚              β”‚  β”‚    API    β”‚ β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤ β”‚
β”‚  β”‚ β€Ά μ»¤λ°‹ λ°μ΄ν„° β”‚  β”‚ β€Ά activeTab  β”‚  β”‚β€Ά ν…λ§ μ„¤μ •β”‚ β”‚
β”‚  β”‚ β€Ά PR λ°μ΄ν„°   β”‚  β”‚ β€Ά sortBy     β”‚  β”‚β€Ά μ–Έμ–΄     β”‚ β”‚
β”‚  β”‚ β€Ά λ ν¬ μ •λ³΄   β”‚  β”‚ β€Ά searchQueryβ”‚  β”‚  (ν–¥ν›„)   β”‚ β”‚
β”‚  β”‚              β”‚  β”‚ β€Ά itemsPerPageβ”‚ β”‚           β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚         β†•                 β†•                β†•        β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚           React Components                   β”‚   β”‚
β”‚  β”‚  (CommitsList, PullRequestsList, etc.)      β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β†•
  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
  β”‚  Express    β”‚
  β”‚   Server    β”‚
  β”‚ GitHub API  β”‚
  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π”„ λ°μ΄ν„° ν”λ΅μ° μμ‹

### 1. μ‚¬μ©μκ°€ Repositoryλ¥Ό μ…λ ¥ν•κ³  κ²€μƒ‰
```
User Input (facebook/react)
    β†“
Repository νμ‹± (utils/helpers.js)
    β†“
useCommits hook νΈμ¶ (TanStack Query)
    β†“
API μ”μ²­ (api/github.js)
    β†“
Express Server β†’ GitHub API
    β†“
λ°μ΄ν„° μΊμ‹± (TanStack Query)
    β†“
CommitsList μ»΄ν¬λ„νΈ λ λ”λ§
```

### 2. μ‚¬μ©μκ°€ κ²€μƒ‰μ–΄λ¥Ό μ…λ ¥
```
User types "fix bug"
    β†“
SearchBar component
    β†“
useUIStore.setSearchQuery() (Zustand)
    β†“
CommitsList component re-renders
    β†“
filterCommits() with searchQuery (useMemo)
    β†“
Filtered results displayed
```

## π“‹ κ° μƒνƒ κ΄€λ¦¬μ μ±…μ„

| κ΄€μ‹¬μ‚¬ | λ„κµ¬ | μ΄μ  |
|--------|------|------|
| GitHub API λ°μ΄ν„° | TanStack Query | μ„λ²„ μƒνƒ, μΊμ‹±, λ΅λ”© κ΄€λ¦¬ |
| νƒ­, μ •λ ¬, κ²€μƒ‰ | Zustand | μ—¬λ¬ μ»΄ν¬λ„νΈ κ³µμ , λΉ λ¥Έ μ—…λ°μ΄νΈ |
| ν…λ§, μ–Έμ–΄ μ„¤μ • | Context API | μ•± λ λ²¨, λ³€κ²½ λΉλ„ λ‚®μ |
| νΌ μ…λ ¥ | useState | μ§€μ—­ μƒνƒλ΅ μ¶©λ¶„ |

## π“ ν•™μµ ν¬μΈνΈ

1. **μ„λ²„ μƒνƒ vs ν΄λΌμ΄μ–ΈνΈ μƒνƒ κµ¬λ¶„**
   - μ„λ²„ μƒνƒλ” TanStack Queryλ΅ μλ™ κ΄€λ¦¬
   - ν΄λΌμ΄μ–ΈνΈ UI μƒνƒλ” Zustandλ΅ κ°„λ‹¨ν•κ²

2. **κ³Όλ„ν• μ „μ—­ μƒνƒ μ§€μ–‘**
   - μ§€μ—­ μƒνƒλ΅ μ¶©λ¶„ν• κ²½μ° useState μ‚¬μ©
   - μ •λ§ κ³µμ κ°€ ν•„μ”ν• κ²½μ°λ§ Zustand

3. **μΊμ‹±μ μ¤‘μ”μ„±**
   - TanStack Queryμ μΊμ‹±μΌλ΅ API νΈμ¶ μµμ†ν™”
   - μ‚¬μ©μ κ²½ν— ν–¥μƒ + μ„λ²„ λ¶€ν• κ°μ†

## π”® ν–¥ν›„ ν™•μ¥ κ³„ν

### 2μ£Όμ°¨ - LLM ν†µν•©
- TanStack Queryμ— LLM API μ”μ²­ μ¶”κ°€
- μƒμ„± μ¤‘μΈ κΈ€ μƒνƒλ¥Ό Zustandλ΅ κ΄€λ¦¬

### 3μ£Όμ°¨ - μ €μ¥ κΈ°λ¥
- λ΅μ»¬ μ¤ν† λ¦¬μ§€ λλ” DB μ—°λ™
- μ €μ¥λ κΈ€ λ©λ΅ μΊμ‹±
- Optimistic Updates κµ¬ν„
